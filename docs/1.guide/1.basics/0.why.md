---
icon: clarity:rack-server-outline-alerted
---

# Why srvx?

> Why does srx exist and why would you want to use it?

Srvx provides a unified API for creating HTTP servers based on web standard primitives such as [fetch][fetch], [Request][Request], and [Response][Response], working seamlessly with [Deno][Deno], [Bun][Bun], [Node.js][Node.js], and more.

Usage is simple, low-level, and universal, and in most cases, introduces no or minimum overhead.

The main use-case of srvx is for tools and frameworks that wish to be runtime agnostic. Instead of depending on idiosyncratic runtime APIs, and introducing adapters, using srvx as unified building block.

**Example:** Same code working regardless of runtime.

```js
import { serve } from "srvx";

const server = serve({
  port: 3000,
  // tls: {}
  fetch(request) {
    return new Response(`ðŸ‘‹ Your IP address is ${request.ip}`);
  },
});
```

## Runtime APIs

### Deno and Bun

[Deno][Deno] and [Bun][Bun] use web standard APIs for HTTP servers, with slight differences and extensions on top of the standard.

**Example:** [Deno][Deno] server ([learn more](https://docs.deno.com/api/deno/~/Deno.serve)):

```js
Deno.serve(
  { port: 3000 },
  (request, info) =>
    new Response(`ðŸ‘‹ Your IP address is ${info.remoteAddr.hostname}`),
);
```

**Example:** [Bun][Bun] server ([learn more](https://bun.sh/docs/api/http)):

```js
Bun.serve({
  port: 3000,
  fetch: (request, server) =>
    new Response(`ðŸ‘‹ Your IP address is ${server.requestIP(request).address}`),
});
```

> [!TIP]
> Srvx unifies usage by adding [extensions directly to request](/guide/basics/handler#extended-request-serverrequest) and unified [options](/guide/basics/options).

### Node.js

[Node.js][Node.js], provides [`node:http`](https://nodejs.org/api/http.html), [`node:https`](https://nodejs.org/api/https.html) and [`node:http2`](https://nodejs.org/api/http2.html) to create HTTP servers.

**Example:** Node.js HTTP server ([learn more](https://nodejs.org/en/learn/getting-started/introduction-to-nodejs)):

```js
import { createServer } from "node:http";

createServer((req, res) => {
  res.end(`ðŸ‘‹ Your IP address is ${req.socket.remoteAddress}`);
}).listen(3000);
```

Whenever a new request is received, the request event is called with two Node objects:

- Request (conventionally `req`), which is of the type [node:IncomingMessage][IncomingMessage], and passed in as the first argument of the event and enables access to the HTTP request details.
- Response (conventionally `res`), which is of the type [node:ServerResponse][ServerResponse], and passed in as the second argument of the event and allows preparing and sending of an HTTP response.

Srvx uses a lightweight proxy layer to emulate web standard APIs for Node.js.

:read-more{to="/guide/advanced/node" title="Node.js support"}

[Node.js]: https://nodejs.org/
[Deno]: https://deno.com/
[Bun]: https://bun.sh/
[Express]: https://expressjs.com/
[Fastify]: https://fastify.dev/
[Fetch]: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API
[Request]: https://developer.mozilla.org/en-US/docs/Web/API/Request
[Response]: https://developer.mozilla.org/en-US/docs/Web/API/Response
[IncomingMessage]: https://nodejs.org/api/http.html#http_class_http_incomingmessage
[ServerResponse]: https://nodejs.org/api/http.html#http_class_http_serverresponse
