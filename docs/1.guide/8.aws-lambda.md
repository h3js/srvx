---
icon: clarity:cloud-traffic-line
---

# AWS Lambda

> AWS Lambda compatibility

srvx provides an AWS Lambda compatibility adapter that handles all the necessary transformations between AWS Lambda's event format and standard web Request/Response objects.

To use the AWS Lambda adapter, import the `toLambdaHandler` function from `"srvx/aws-lambda"`:

<!-- automd:file src="../../examples/aws-lambda/server.ts" code -->

```ts [server.ts]
import { toLambdaHandler } from "srvx/aws-lambda";
import { serveStatic } from "srvx/static";

export const handler = toLambdaHandler({
  middleware: [serveStatic({ dir: "public" })],
  fetch(req: Request) {
    return Response.json({ hello: "world!" });
  },
});
```

<!-- /automd -->

The `toLambdaHandler` function accepts a `ServerOptions` object as its parameter (see [Server Options](/guide/options) for details). However, since this is a serverless environment, options related to the server instance like `host` and `port` are not respected and will be ignored.

## Serving Static Assets

The example above uses `serveStatic` middleware to serve static files directly from the Lambda function. While this works for simple use cases, it comes with limitations:

- Lambda has a deployment package size limit (50MB zipped, 250MB unzipped)
- Each static file request incurs Lambda invocation costs
- Cold starts affect static file delivery latency

For production applications, consider these alternatives:

- **Amazon S3 + CloudFront**: Store static assets in S3 and serve them through CloudFront CDN for better performance and lower costs
- **API Gateway Binary Support**: Configure API Gateway to serve static files directly from S3 without invoking Lambda
- **Separate Static Hosting**: Use dedicated static hosting services (Vercel, Netlify, or S3 static website hosting) for your assets

You can find a complete example of AWS Lambda in the [examples/aws-lambda](https://github.com/h3js/srvx/tree/main/examples/aws-lambda) directory, which includes configuration for the Serverless Framework and demonstrates how to set up API Gateway endpoints.
